{"ast":null,"code":"import _defineProperty from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/michelle/Bootcamp/Assignments/major/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/michelle/Bootcamp/Assignments/major/client/src/components/Form/Register.js\";\nimport React, { Component } from 'react';\nimport { register } from './UserFunctions';\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this));\n\n    _this.handleUserInput = function (e) {\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState(_defineProperty({}, name, value), function () {\n        _this.validateField(name, value);\n      });\n    };\n\n    _this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n      errors: {}\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"validateField\",\n    value: function validateField(fieldName, value) {\n      var fieldValidationErrors = this.state.formErrors;\n      var emailValid = this.state.emailValid;\n      var passwordValid = this.state.passwordValid;\n      var first_nameValid = this.state.first_nameValid;\n      var last_nameValid = this.state.last_nameValid;\n\n      switch (fieldName) {\n        case 'email':\n          emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n          fieldValidationErrors.email = emailValid ? '' : ' is invalid';\n          break;\n\n        case 'password':\n          passwordValid = value.length >= 6;\n          fieldValidationErrors.password = passwordValid ? '' : ' is too short';\n          break;\n\n        case 'first_name':\n          first_nameValid = value.match(/^[a-zA-Z]+$/);\n          fieldValidationErrors.first_name = first_nameValid ? '' : ' use only letters';\n          break;\n\n        case 'last_name':\n          last_nameValid = value.match(/^[a-zA-Z]+$/);\n          fieldValidationErrors.last_name = last_nameValid ? '' : 'use only letters';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors: fieldValidationErrors,\n        emailValid: emailValid,\n        passwordValid: passwordValid,\n        last_nameValid: last_nameValid,\n        first_nameValid: first_nameValid\n      }, this.validateForm);\n    }\n  }, {\n    key: \"validateForm\",\n    value: function validateForm() {\n      this.setState({\n        formValid: this.state.emailValid && this.state.passwordValid && this.state.last_nameValid && this.state.first_nameValid\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var newUser = {\n        first_name: this.state.first_name,\n        last_name: this.state.last_name,\n        email: this.state.email,\n        password: this.state.password\n      };\n      register(newUser).then(function (res) {\n        _this2.props.history.push(\"/login\");\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 mt-5 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"h3 mb-3 font-weight-normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Register\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"panel panel-default\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(FormErrors, {\n        formErrors: this.state.formErrors,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"First name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"first_name\",\n        placeholder: \"Enter your first name\",\n        value: this.state.first_name,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Last name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"last_name\",\n        placeholder: \"Enter your lastname name\",\n        value: this.state.last_name,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        name: \"email\",\n        placeholder: \"Enter email\",\n        value: this.state.email,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-lg btn-primary btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Register!\")))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nexport default Register;","map":{"version":3,"sources":["/Users/michelle/Bootcamp/Assignments/major/client/src/components/Form/Register.js"],"names":["React","Component","register","Register","handleUserInput","e","name","target","value","setState","validateField","state","first_name","last_name","email","password","errors","onChange","bind","onSubmit","fieldName","fieldValidationErrors","formErrors","emailValid","passwordValid","first_nameValid","last_nameValid","match","length","validateForm","formValid","preventDefault","newUser","then","res","props","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { register } from './UserFunctions'\n\nclass Register extends Component {\n  constructor() {\n    super()\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      password: '',\n      errors: {}\n    }\n\n    this.onChange = this.onChange.bind(this)\n    this.onSubmit = this.onSubmit.bind(this)\n  }\n\n  handleUserInput = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({[name]: value},\n    () => { this.validateField(name, value) });\n  }\n\n  validateField(fieldName, value) {\n    let fieldValidationErrors = this.state.formErrors;\n    let emailValid = this.state.emailValid;\n    let passwordValid = this.state.passwordValid;\n    let first_nameValid = this.state.first_nameValid;\n    let last_nameValid = this.state.last_nameValid;\n  \n  \n    switch(fieldName) {\n      case 'email':\n        emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n        fieldValidationErrors.email = emailValid ? '' : ' is invalid';\n        break;\n      case 'password':\n        passwordValid = value.length >= 6;\n        fieldValidationErrors.password = passwordValid ? '': ' is too short';\n        break;\n        case 'first_name':\n          first_nameValid= value.match(/^[a-zA-Z]+$/);\n          fieldValidationErrors.first_name = first_nameValid ? '' : ' use only letters';\n          break;\n        case 'last_name':\n          last_nameValid= value.match(/^[a-zA-Z]+$/);\n          fieldValidationErrors.last_name = last_nameValid ? '' : 'use only letters';\n          break;\n      default:\n        break;\n    }\n    this.setState({formErrors: fieldValidationErrors,\n      emailValid: emailValid,\n      passwordValid: passwordValid, \n      last_nameValid: last_nameValid, \n      first_nameValid: first_nameValid, \n      }, this.validateForm);\n  }\n  \n  validateForm() {\n    this.setState({formValid: this.state.emailValid && this.state.passwordValid && this.state.last_nameValid && this.state.first_nameValid});\n  }\n  \n  onSubmit(e) {\n    e.preventDefault()\n\n    const newUser = {\n      first_name: this.state.first_name,\n      last_name: this.state.last_name,\n      email: this.state.email,\n      password: this.state.password\n    }\n\n    register(newUser).then(res => {\n      this.props.history.push(`/login`)\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-md-6 mt-5 mx-auto\">\n            <form noValidate onSubmit={this.onSubmit}>\n              <h1 className=\"h3 mb-3 font-weight-normal\">Register</h1>\n              <div className=\"form-group\">\n              <div className=\"panel panel-default\">\n                <FormErrors formErrors={this.state.formErrors} />\n              </div>\n                <label htmlFor=\"name\">First name</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"first_name\"\n                  placeholder=\"Enter your first name\"\n                  value={this.state.first_name}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">Last name</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"last_name\"\n                  placeholder=\"Enter your lastname name\"\n                  value={this.state.last_name}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"email\">Email address</label>\n                <input\n                  type=\"email\"\n                  className=\"form-control\"\n                  name=\"email\"\n                  placeholder=\"Enter email\"\n                  value={this.state.email}\n                  onChange={this.onChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <input\n                  type=\"password\"\n                  className=\"form-control\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  value={this.state.password}\n                  onChange={this.onChange}\n                />\n              </div>\n              <button\n                type=\"submit\"\n                className=\"btn btn-lg btn-primary btn-block\"\n              >\n                Register!\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}